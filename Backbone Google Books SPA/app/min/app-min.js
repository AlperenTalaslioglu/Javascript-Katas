var Router=Backbone.Router.extend({routes:{"":"home","books/:searchkeys/:startIndex/:maxResults":"searchBooks","book/:index/:bookName":"showBookDetail"},initialize:function(){$("#loading-indicator").hide()},home:function(){this.homeView=new HomeView,$("#content").html(this.homeView.render()),$("#error-box").hide(),$("#search-box").val("")},searchBooks:function(o,e,t){this.booksListView=new BooksListView,$("#content").html(this.booksListView.render()),this.booksListView.searchBooks(o,e,t)},showBookDetail:function(o){this.bookDetailView=new BookDetailView,$("#content").html(this.bookDetailView.render()),this.bookDetailView.showBook(this.booksListView.getBooks().models[o].attributes)}});template.loadTemplates(["home","books-list","book-detail"],function(){window.app=new Router,Backbone.history.start()});